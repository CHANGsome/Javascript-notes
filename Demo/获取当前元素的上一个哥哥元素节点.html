<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Title</title>
</head>
<body>
    <div class="box1">1</div>
    <div class="box2">2</div>
    <div class="box3">3</div>
    <div class="box4">4</div>
    <!--注释-->
    <div class="box5">5</div>



    <script>
        /*获取当前元素的上一个哥哥元素节点（previousElementSibling在IE6-8不兼容）
        * 首先获取当前节点的上一哥哥节点，判断当前获取的节点是否为元素节点（nodeType === 1），如果不是，基于当前获取的节点，找他的上一个哥哥节点...（找几次不知道）一直到找到的节点是元素节点为止。
        * 如果在查找的过程中，发现没有上一个哥哥节点了（找到头了），则不继续查找。
        *
        */
        function preBrother(curEle){
            var preSibling = curEle.previousSibling;
            while(preSibling){
                if(preSibling.nodeType === 1){
                    return preSibling;
                }else{
                    preSibling = preSibling.previousSibling;
                }
            }
        }
        var box = document.getElementsByClassName("box1")[0];
        console.log(preBrother(box));
    </script>
</body>
</html>